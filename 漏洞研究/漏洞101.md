# 介绍
网络安全是当今世界的一项大生意。我们在报纸上听到的黑客攻击都是利用漏洞进行的。在这个房间里，我们将准确解释什么是漏洞、漏洞的类型以及如何利用这些漏洞在渗透测试工作中取得成功。

渗透测试的一个重要部分是了解您面临的任何情况的技能和资源。这个房间将向您介绍一些在研究漏洞时必不可少的资源，具体来说，我们将向您介绍：
- 什么是漏洞
- 为什么他们值得学习
- 漏洞如何评级
- 漏洞研究数据库
- 展示如何将漏洞研究用于 ACKme 的参与

# 漏洞介绍
网络安全漏洞被定义为**系统或应用程序的设计、实施或行为中的弱点或缺陷**攻击者可以利用这些弱点来访问未经授权的信息或执行未经授权的操作。网络安全机构对“漏洞”一词有多种定义。
然而，它们之间的差异很小。

例如，**NIST** 将漏洞定义为“**信息系统、系统安全程序、内部控制或实施中可能被威胁者利用或触发的弱点**”。

漏洞可能源于许多因素，包括应用程序设计不当或对用户预期操作的疏忽。

我们将在稍后的房间中讨论各种类型的漏洞。然而，目前我们应该知道，可以说存在五类主要的漏洞：
| 漏洞 | 描述
| --- | ---
| 操作系统 | 这些类型的漏洞存在于操作系统 (OS) 中，通常会导致权限提升。
| 基于（错误）配置 | 这些类型的漏洞源于错误配置的应用程序或服务。例如，暴露客户详细信息的网站。
| 弱口令 | 具有身份验证元素的应用程序和服务在安装时将附带默认凭据。例如，管理员仪表板可能具有“admin”的用户名和密码。这些很容易被攻击者猜到。 
| 应用逻辑 | 这些漏洞是应用程序设计不当造成的。例如，实施不当的身份验证机制可能会导致攻击者能够冒充用户。
| 人的因素 | 人为因素漏洞是利用人类行为的漏洞。例如，网络钓鱼电子邮件旨在欺骗人们相信它们是合法的。

# 漏洞评分（CVSS 和 VPR）
漏洞管理是**评估、分类并最终修复组织面临的威胁**（漏洞）的过程。
修补和修复网络或计算机系统中的每一个漏洞可以说是**不可能的**，有时还会浪费资源。

毕竟，只有大约 **2%** 的漏洞最终被利用（Kenna security., 2020）。 相反，这一切都是为了解决最危险的漏洞并减少攻击媒介被用来利用系统的可能性。

这就是漏洞评分发挥作用的地方。漏洞评分在漏洞管理中起着至关重要的作用，用于确定漏洞可能对网络或计算机系统造成的潜在风险和影响。

例如，流行的**通用漏洞评分系统 (CVSS)** 根据漏洞的功能、可用性和再现性对漏洞进行评分。

当然，正如 IT 世界中一贯的那样，永远不会只有一种框架或提出的想法。让我们探讨两个更常见的框架并分析它们的不同之处。

## 通用漏洞评分系统

通用漏洞评分系统（CVSS）于 2005 年首次推出，是一种非常流行的漏洞评分框架，并经历了三个主要迭代。
目前的版本是 CVSSv3.1（4.0 版本目前处于草案阶段），分数基本上由以下一些因素（但还有更多）决定：

1. 该漏洞的利用难度如何？

2. 是否存在漏洞利用？

3. 该漏洞如何干扰 CIA 三要素（保密性，完整性，可用性）？

事实上，变量太多，你必须使用[计算器](https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator)才能计算出使用此框架的分数。
根据分配的分数，对漏洞进行分类（共五级）。我将定性严重程度评定量表及其评分范围放入下表中。 
| 评级 | 分数
|----|----
| 无(None) | 0
| 低(Low) | 0.1 - 3.9
| 中(Medium) | 4.0 - 6.9
| 高(High) | 7.0 - 8.9
| 严重(Critical) | 9.0 - 10.0

然而，CVSS 并不是灵丹妙药。我们通过下表来分析一下CVSS的一些优缺点：
|CVSS的优点|CVSS 的缺点
|----|----
|CVSS 已经存在很长时间了|	CVSS 的设计目的从来都不是为了帮助确定漏洞的优先级，而只是分配严重性值
|CVSS 在组织中很受欢迎	| CVSS 大量评估可用漏洞的漏洞。然而，所有漏洞中只有 20% 可以利用（Tenable.，2020）
|CVSS 是一个免费框架，可供 NIST 等组织采用和推荐|尽管可能会发现漏洞利用等新的发展，但漏洞在评估后很少改变评分

# 漏洞优先级 (VPR)
VPR框架是漏洞管理中更现代的框架，由漏洞管理行业解决方案提供商Tenable开发。该框架被认为是**面向风险**的，这意味着漏洞会被赋予一个分数，重点关注漏洞对组织本身的风险，而**不像CVSS**中那样关注影响等因素。

与CVSS不同，VPR评分考虑了漏洞的相关性。例如，如果漏洞不适用于组织（即他们不使用易受攻击的软件），则不会考虑任何风险。VPR在评分方面也非常动态，随着漏洞的老化，漏洞可能带来的风险几乎可以每天变化一次。

VPR使用与CVSS类似的评分范围，我也在下表中列出了。然而，两个显著的区别是VPR没有“无/信息”类别，并且由于VPR使用不同的评分方法，使用VPR时，相同的漏洞与使用CVSS时的分数会不同。
|评级|分数
|---|---
|低|0.0 - 3.9
|中|4.0 - 6.9
|高|7.0 - 8.9
|严重|9.0 - 10.0

**让我们回顾一下下表中使用 VPR 框架的一些优点和缺点。**

|VPR 的优点|VPR 的缺点
|---|---
|VPR 是一个现实世界的现代框架。|	VPR 不像其他一些漏洞管理框架那样开源。
|VPR 在计算风险时会考虑 150 多个因素。|	VPR 只能在商业平台之外采用。
|VPR 是风险驱动的，组织使用它来帮助优先修复漏洞。	|VPR 不像 CVSS 那样考虑 CIA 三要素；这意味着，在使用 VPR 时，数据机密性、完整性和可用性的风险并不是影响漏洞评分的重要因素。
|评分不是最终的，而且是动态变化的，这意味着漏洞的优先级可能会随着漏洞的老化而变化。|	空

# 漏洞数据库
在您的网络安全之旅中，您经常会遇到大量不同的应用程序和服务。例如，CMS 虽然都有相同的目的，但通常具有截然不同的设计和行为（进而可能存在不同的漏洞）。

值得庆幸的是，互联网上有资源可以跟踪各种软件、操作系统等的漏洞！这个房间将展示两个数据库，我们可以使用它们来查找在信息安全之旅中发现的应用程序的现有漏洞，特别是以下网站： 
- [NVD](https://nvd.nist.gov/vuln/full-listing)
- [Exploit-DB](https://www.exploit-db.com/)
  
在我们深入研究这两个资源之前，让我们确保我们对一些基本关键术语的理解是一致的：
|术语|定义
|---|---
|漏洞|漏洞被定义为系统或应用程序的设计、实现或行为中的弱点或缺陷。
|开发|漏洞利用是指利用系统或应用程序上的漏洞的操作或行为。
|概念验证 ( PoC )|	PoC是一种经常演示漏洞利用的技术或工具。|

## NVD——国家漏洞数据库
国家漏洞数据库是一个列出所有公开分类的漏洞的网站。在网络安全中，漏洞被分类为“常见漏洞和暴露(**C**ommon **V**ulnerabilities and **E**xposures)” 或简称CVE 。

这些 CVE 的格式为CVE-YEAR-IDNUMBER. 例如，著名恶意软件 WannaCry 使用的漏洞是CVE-2017-0144.

NVD 允许您使用按类别和提交月份的过滤器查看所有已确认的 CVE。例如，已经进入八月三天；已有 223 个新 CVE 提交到该数据库。
![image](https://github.com/GODSLEEP/THM-/assets/37927545/2c87ff9f-9330-4dcf-b5f1-b465ddc8054c)
虽然该网站有助于跟踪新漏洞，但在搜索特定应用程序或场景的漏洞时效果并不好。
## Exploit-DB
[Exploit-DB](https://www.exploit-db.com/)是我们作为黑客在评估过程中会发现更有帮助的资源。Exploit-DB 保留以软件或应用程序的名称、作者和版本存储的软件和应用程序的漏洞利用信息。

我们可以使用 Exploit-DB 来查找用于利用特定漏洞的代码片段（称为PoC）。
![image](https://github.com/GODSLEEP/THM-/assets/37927545/c56a4185-1dfd-4d0e-9c30-cf48906af781)

# 查找漏洞的示例

在这项任务中，我将演示发现一个小漏洞的过程，再加上对漏洞数据库的一些研究，最终产生更有价值的漏洞和利用。

在整个评估过程中，您通常会结合多个漏洞来获得结果。例如，在此任务中，我们将利用“**版本泄露（Version Disclosure）**”漏洞来找出应用程序的版本。有了这个版本，我们就可以使用Exploit-DB来搜索适用于该特定版本的任何漏洞。 

应用程序和软件通常有版本号。这些信息通常是出于善意而留下的；例如，作者可以支持软件的多个版本等等。或者有时或无意留下。

例如，在下面的屏幕截图中，我们可以看到该应用程序的名称和版本号是“ **Apache Tomcat 9.0.17 **”

![image](https://github.com/GODSLEEP/THM-/assets/37927545/d7e2a106-c22b-4d98-b49c-0d6929e8bf75)
有了这些信息，我们就可以使用 Exploit-DB 上的搜索过滤器来查找可能适用于“ **Apache Tomcat 9.0.17 **”的任何漏洞利用。
![image](https://github.com/GODSLEEP/THM-/assets/37927545/304be08e-3b2b-423d-9b41-c0914d343985)

(完)原文链接：https://tryhackme.com/room/vulnerabilities101

